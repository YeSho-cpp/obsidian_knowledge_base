## 1. 为什么使用 one-hot 编码？
**问题：**
在机器学习算法中，我们经常会遇到分类特征，例如：人的性别有男女，祖国有中国，美国，法国等。 这些特征值并不是连续的，而是离散的，无序的。

**目的：**
    如果要作为机器学习算法的输入，通常我们需要对其进行特征数字化。什么是特征数字化呢？例如：
    
   性别特征：`["男"，"女"]`

   祖国特征：`["中国"，"美国，"法国"]`

   运动特征：`["足球"，"篮球"，"羽毛球"，"乒乓球"]`

**瓶颈：**
假如某个样本（某个人），他的特征是 `["男","中国","乒乓球"]` ，我们可以用 `[0,0,4]` 来表示，但是这样的特征处理并不能直接放入机器学习算法中。因为类别之间是无序的。

## 2. 什么是 one-hot 编码？
**定义：** 
独热编码即 One-Hot 编码，又称一位有效编码。其方法是<font color=#ff0000>使用N位状态寄存器来对N个状态</font>进行编码，每个状态都有它独立的寄存器位，并且在任意时候，其中只有一位有效。

理解：
One-Hot 编码是**分类变量**作为**二进制向量**的表示。

(1) 将分类值映射到整数值。

(2) 然后，每个整数值被表示为二进制向量，除了整数的索引之外，它都是零值，它被标记为1。

> 例如，对六个状态进行编码：
自然顺序码为 000,001,010,011,100,101
独热编码则是 000001,000010,000100,001000,010000,100000

回到一开始的例子，性别特征：`["男","女"]`，按照N位状态寄存器来对N个状态进行编码的原理：

>性别特征：`["男"，"女"]`（这里N=2 二维数据）
男 => 10
女 => 01

>地区特征：`["北京"，"上海，"深圳"]`（这里N=3，三维数据）：
北京 => 100
上海 => 010
深圳 => 001

>工作特征：`["演员"，"厨师"，"公务员"，"工程师"，"律师"]`（这里N=5，五维数据）：
演员 => 10000
老师 => 01000
公务员 => 00100
工程师 => 00010
消防员 => 00001

所以，样本A的特征是`["女","北京","工程师"]`的时候，独热编码（One-Hot Encoding）的结果为：

>`[0，1，1，0，0，0，0，0，1，0]`

2. **优点**

在回归，分类，聚类等机器学习算法中，特征之间距离的计算或相似度的计算是非常重要的。而常用的距离或相似度的计算都是在[[|欧式空间]]的相似度计算，计算余弦相似性，基于的就是欧式空间。
使用独热编码（One-Hot Encoding），将离散特征的取值扩展到了欧式空间，离散特征的某个取值就对应欧式空间的某个点。将离散型特征使用独热编码（One-Hot Encoding），会让特征之间的距离计算更加合理。

独热编码的优点为：

1.能够处理非连续型数值特征。 
2.在一定程度上也扩充了特征。比如性别本身是一个特征，经过one hot编码以后，就变成了男或女两个特征。

特征类别较多时，数据经过独热编码可能会变得过于稀疏。